# Nexus Saúde - Monitoring Service Environment Configuration

# ================================
# SERVICE CONFIGURATION
# ================================
SERVICE_NAME=nexus-monitoring
SERVICE_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ================================
# SERVER CONFIGURATION
# ================================
HOST=0.0.0.0
PORT=8005
WORKERS=4
RELOAD=false

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL Main Database
DATABASE_URL=postgresql+asyncpg://monitoring_user:monitoring_pass@localhost:5432/nexus_monitoring
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=100
REDIS_DECODE_RESPONSES=true

# ================================
# MONITORING CONFIGURATION
# ================================
# Data Collection
MONITORING_INTERVAL=30
VITAL_SIGNS_INTERVAL=10
METRICS_COLLECTION_INTERVAL=60
SYSTEM_CHECK_INTERVAL=120

# Data Retention
DATA_RETENTION_DAYS=30
METRICS_RETENTION_HOURS=168
ALERTS_RETENTION_DAYS=90
LOGS_RETENTION_DAYS=7

# Real-time Settings
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_MAX_CONNECTIONS=1000
REALTIME_DATA_BUFFER_SIZE=1000

# ================================
# ALERT CONFIGURATION
# ================================
# Alert Engine
ALERT_PROCESSING_INTERVAL=5
ALERT_BATCH_SIZE=100
ALERT_CORRELATION_WINDOW=300
ALERT_SUPPRESSION_ENABLED=true
ALERT_AUTO_RESOLUTION_ENABLED=true

# Escalation Settings
ESCALATION_ENABLED=true
ESCALATION_TIMEOUT_LEVEL1=300
ESCALATION_TIMEOUT_LEVEL2=900
ESCALATION_TIMEOUT_LEVEL3=1800
ESCALATION_TIMEOUT_LEVEL4=3600
ESCALATION_TIMEOUT_LEVEL5=7200

# ================================
# NOTIFICATION CONFIGURATION
# ================================
# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=alerts@nexussaude.com
SMTP_PASSWORD=your_email_password
SMTP_USE_TLS=true
SMTP_FROM_EMAIL=alerts@nexussaude.com
SMTP_FROM_NAME=Nexus Saúde Alerts

# SMS Configuration (Twilio)
SMS_ENABLED=true
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Push Notifications (Firebase)
PUSH_ENABLED=true
FIREBASE_SERVER_KEY=your_firebase_server_key
FIREBASE_PROJECT_ID=nexus-saude

# Webhook Configuration
WEBHOOK_ENABLED=true
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5

# Slack Integration
SLACK_ENABLED=true
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_CHANNEL=#nexus-alerts
SLACK_USERNAME=Nexus Bot

# Microsoft Teams
TEAMS_ENABLED=true
TEAMS_WEBHOOK_URL=https://your-org.webhook.office.com/webhookb2/...

# WhatsApp Business API
WHATSAPP_ENABLED=false
WHATSAPP_BUSINESS_ID=your_whatsapp_business_id
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token

# ================================
# VITAL SIGNS THRESHOLDS
# ================================
# Heart Rate (BPM)
HEART_RATE_MIN_NORMAL=60
HEART_RATE_MAX_NORMAL=100
HEART_RATE_MIN_CRITICAL=40
HEART_RATE_MAX_CRITICAL=150

# Blood Pressure (mmHg)
BLOOD_PRESSURE_SYSTOLIC_MIN_NORMAL=90
BLOOD_PRESSURE_SYSTOLIC_MAX_NORMAL=140
BLOOD_PRESSURE_SYSTOLIC_MAX_CRITICAL=180
BLOOD_PRESSURE_DIASTOLIC_MIN_NORMAL=60
BLOOD_PRESSURE_DIASTOLIC_MAX_NORMAL=90
BLOOD_PRESSURE_DIASTOLIC_MAX_CRITICAL=110

# Temperature (Celsius)
TEMPERATURE_MIN_NORMAL=36.0
TEMPERATURE_MAX_NORMAL=37.5
TEMPERATURE_MIN_CRITICAL=35.0
TEMPERATURE_MAX_CRITICAL=40.0

# Oxygen Saturation (%)
OXYGEN_SATURATION_MIN_NORMAL=95
OXYGEN_SATURATION_MIN_CRITICAL=90

# Respiratory Rate (breaths per minute)
RESPIRATORY_RATE_MIN_NORMAL=12
RESPIRATORY_RATE_MAX_NORMAL=20
RESPIRATORY_RATE_MIN_CRITICAL=8
RESPIRATORY_RATE_MAX_CRITICAL=30

# ================================
# SYSTEM MONITORING THRESHOLDS
# ================================
# CPU Usage (%)
CPU_WARNING_THRESHOLD=70
CPU_CRITICAL_THRESHOLD=90

# Memory Usage (%)
MEMORY_WARNING_THRESHOLD=80
MEMORY_CRITICAL_THRESHOLD=95

# Disk Usage (%)
DISK_WARNING_THRESHOLD=85
DISK_CRITICAL_THRESHOLD=95

# Network (Mbps)
NETWORK_WARNING_THRESHOLD=100
NETWORK_CRITICAL_THRESHOLD=500

# ================================
# SECURITY CONFIGURATION
# ================================
# JWT Settings
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Security
API_KEY_REQUIRED=true
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600

# CORS Settings
CORS_ALLOW_ORIGINS=["http://localhost:3000", "https://nexussaude.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# ================================
# INTEGRATION CONFIGURATION
# ================================
# FHIR Gateway Integration
FHIR_GATEWAY_URL=http://localhost:8004
FHIR_GATEWAY_TIMEOUT=30
FHIR_GATEWAY_RETRY_ATTEMPTS=3

# ML Service Integration
ML_SERVICE_URL=http://localhost:8001
ML_SERVICE_TIMEOUT=60
ML_SERVICE_RETRY_ATTEMPTS=2

# AI Assistant Integration
AI_ASSISTANT_URL=http://localhost:8002
AI_ASSISTANT_TIMEOUT=30

# NLP Service Integration
NLP_SERVICE_URL=http://localhost:8003
NLP_SERVICE_TIMEOUT=45

# ================================
# DASHBOARD CONFIGURATION
# ================================
# Dashboard Settings
DASHBOARD_REFRESH_INTERVAL=30
DASHBOARD_MAX_ALERTS_DISPLAY=50
DASHBOARD_MAX_PATIENTS_DISPLAY=100
DASHBOARD_CHART_DATA_POINTS=100
DASHBOARD_AUTO_REFRESH=true

# Chart Configuration
CHART_UPDATE_INTERVAL=10
CHART_MAX_DATA_POINTS=200
CHART_ANIMATION_ENABLED=true

# ================================
# PERFORMANCE CONFIGURATION
# ================================
# Connection Pools
HTTP_POOL_CONNECTIONS=100
HTTP_POOL_MAXSIZE=100
HTTP_POOL_TIMEOUT=30

# Caching
CACHE_TTL_SECONDS=300
CACHE_MAX_SIZE=10000
CACHE_ENABLED=true

# Background Tasks
BACKGROUND_TASK_WORKERS=4
BACKGROUND_TASK_QUEUE_SIZE=1000

# ================================
# LOGGING CONFIGURATION
# ================================
# Log Settings
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/nexus/monitoring.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# External Logging (Sentry)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENABLED=false
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ================================
# HEALTH CHECK CONFIGURATION
# ================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_DEPENDENCIES=["database", "redis", "fhir_gateway"]

# ================================
# BACKUP CONFIGURATION
# ================================
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backups/nexus-monitoring

# ================================
# DEVELOPMENT CONFIGURATION
# ================================
# Development Only (set to false in production)
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_MOCK_DATA=false

# Testing Configuration
TEST_DATABASE_URL=postgresql+asyncpg://test_user:test_pass@localhost:5432/nexus_monitoring_test
TEST_REDIS_URL=redis://localhost:6379/1